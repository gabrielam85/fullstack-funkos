<main class="create-container container">
  <h1 class="create-title">EDITAR ITEM</h1>
  <% if (typeof errors != 'undefined') { %>
  <ul>
    <% errors.forEach(error => { %>
    <li><%= error.msg %></li>
    <% }) %>
  </ul>
  <% } %>
  <form
    class="edit-form"
    action="/product/edit/<%= values.id%>?_method=PUT"
    method="post"
    enctype="multipart/form-data"
  >
    <section class="create-characteristic">
      <div class="create-item">
        <label class="create-label" for="categoria">Categoría:</label>
        <select name="categoria" id="categoria">
          <option value="">Seleccionar</option>
          <option value="figuras" selected>Figuras</option>
          <option value="llaveros">Llaveros</option>
          <option value="remeras">Remeras</option>
        </select>
      </div>
      <div class="create-item">
        <label class="create-label" for="licencia">Licencia:</label>
        <select name="licencia" id="licencia">
          <option value="">Seleccionar</option>
          <option value="naruto">Naruto Shippuden</option>
          <option value="starWars">Star Wars</option>
          <option value="pokemon">Pokemon</option>
          <option value="harryPotter">Harry Potter</option>
        </select>
      </div>
    </section>
    <section class="create-item">
      <label class="create-label" for="nombre">Nombre del producto:</label>
      <input
        class="create-text"
        type="text"
        name="nombre"
        id="nombre"
        required
        placeholder="Kakashi Hatake Shippuden Saga"
        value="<%= values.nombre %>"
      />
    </section>
    <section class="create-description">
      <textarea
        name="descripcion"
        id="descripcion"
        rows="10"
        placeholder="Descripción del producto."
      >
<%= values.descripcion %></textarea
      >
    </section>
    <section class="create-characteristic">
      <div class="create-item">
        <label class="create-label" for="sku">SKU:</label>
        <input
          class="create-text"
          type="text"
          name="sku"
          id="sku"
          placeholder="NAR001012"
          required
          value="<%= values.codigo %>"
        />
      </div>
      <div class="create-item">
        <label class="create-label" for="precio">Precio:</label>
        <input
          class="create-text"
          type="text"
          name="precio"
          id="precio"
          required
          placeholder="$ 1.799,00"
          value="$ <%= values.precio %>"
        />
      </div>
      <div class="create-item">
        <label class="create-label" for="stock">Stock:</label>
        <input
          class="create-text"
          type="text"
          name="stock"
          id="stock"
          placeholder="10"
          required
          value="<%= values.stock %>"
        />
      </div>
    </section>
    <section class="create-characteristic">
      <div class="create-item">
        <label class="create-label" for="descuento">Descuento:</label>
        <input
          class="create-text"
          type="text"
          name="descuento"
          id="descuento"
          placeholder="10%"
          required
          value="<%= values.descuento %>%"
        />
      </div>
      <div class="create-item">
        <label class="create-label" for="cuotas">Cuotas:</label>
        <select name="cuotas" id="cuotas">
          <option value="">Seleccionar</option>
          <option value="3">3 cuotas sin interés</option>
          <option value="6">6 cuotas sin interés</option>
          <option value="12">12 cuotas sin interés</option>
        </select>
      </div>
    </section>
    <section class="create-item">
      <label class="create-label" for="imagenes">Imágenes:</label>
      <input type="file" id="imagenes" name="imagenes[]" required multiple />
    </section>
    <section class="edit-package__container">
      <% if (values.urlFront && values.altFront) { %>
      <div class="edit-package">
        <picture class="edit-cover">
          <img alt="<%= values.altFront %>" src="<%= values.urlFront %>" />
          <figcaption>Frente</figcaption>
        </picture>
      </div>
      <% } %> <% if (values.urlBack && values.altBack) { %>
      <div class="edit-package">
        <picture class="edit-cover">
          <img alt="<%= values.altBack %>" src="<%= values.urlBack %>" />
          <figcaption>Dorso</figcaption>
        </picture>
      </div>
      <% } %>
    </section>
    <section class="create-actions">
      <input class="create-link" type="submit" value="Modificar Producto" />
    </section>
  </form>
</main>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const licenciaSelect = document.getElementById("licencia");
    const categoriaValue = "<%= values.categoria %>";
    console.log(categoriaValue);

    if (categoriaValue) {
      const optionToSelect = licenciaSelect.querySelector(
        `option[value="${categoriaValue}"]`
      );

      if (optionToSelect) {
        optionToSelect.selected = true;
      }
    }
  });
</script>
<%- contentFor('title') %> Edición Producto - Funkoshop
